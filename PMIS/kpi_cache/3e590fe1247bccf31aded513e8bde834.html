<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Project Monitoring and Management Information System (PMIS)</title>
<link rel="stylesheet" href="css/style.css" type="text/css" />

<script type="text/javascript" src="scripts/script.js"></script>

<link rel="stylesheet" type="text/css" href="css/styleNew.css">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.js"></script>

<link rel="stylesheet" type="text/css" media="all" href="datepickercode/jquery-ui.css" />
 <script type="text/javascript" src="datepickercode/jquery-1.10.2.js"></script>
 <script type="text/javascript" src="datepickercode/jquery-ui.js"></script>

 <script>
  $(function() {
    $( "#start_date" ).datepicker({ dateFormat: 'yy-mm-dd' }).val();
	
  });
   $(function() {
    $( "#end_date" ).datepicker({ dateFormat:'yy-mm-dd'}).val();
	
  });
  
  </script>
  <script type="text/javascript">

function GetNextLevel(value,div_name)
{
	
	var str=div_name;
	var div_id=str.substr(6, 7);
	 var nextlevel;
	
	  if(value==0)
	  {
	   document.getElementById("str_obj_div_"+div_id).innerHTML=xmlhttp.responseText;
	  document.getElementById("str_obj_div_"+div_id).style.display="none";
	  document.getElementById("str_obj_div_"+div_id).style.visibility="hidden";
	  document.getElementById("lab_"+div_id).style.display="none";
	  document.getElementById("lab_"+div_id).style.visibility="hidden";
	  }
	  else
	  {
		    div_id=parseInt(div_id)+1;
	   if (window.XMLHttpRequest) {
    // code for IE7+, Firefox, Chrome, Opera, Safari
    xmlhttpN=new XMLHttpRequest();
  } else {  // code for IE6, IE5
    xmlhttpN=new ActiveXObject("Microsoft.XMLHTTP");
  }
  xmlhttpN.onreadystatechange=function() {
    if (xmlhttpN.readyState==4 && xmlhttpN.status==200) {
		
		 document.getElementById("level_count").value=xmlhttpN.responseText;
	}
  }
	
  xmlhttpN.open("GET","findnextlevelkpicount.php?parentgroup="+value+"&div_id="+div_id,true);
  xmlhttpN.send();
	/////////////////////////////////////
	
	nextlevel= document.getElementById('level_count').value;
	
	if(nextlevel>0)
	{
	 if (window.XMLHttpRequest) {
    // code for IE7+, Firefox, Chrome, Opera, Safari
    xmlhttp=new XMLHttpRequest();
  } else {  // code for IE6, IE5
    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
  xmlhttp.onreadystatechange=function() {
    if (xmlhttp.readyState==4 && xmlhttp.status==200) {
	
      document.getElementById("str_obj_div_"+div_id).innerHTML=xmlhttp.responseText;
	  document.getElementById("str_obj_div_"+div_id).style.display="";
	  document.getElementById("str_obj_div_"+div_id).style.visibility="visible";
	  document.getElementById("lab_"+div_id).style.display="";
	  document.getElementById("lab_"+div_id).style.visibility="visible";
      
	 
    }
  }


  xmlhttp.open("GET","findnextlevelkpi.php?parentgroup="+value+"&div_id="+div_id,true);
  xmlhttp.send();
	}
	  }
}
</script>
</head>
<body>
<div style="display: inline-block; height:110px;  background-color:#f8f8f8;">
<div style="width:auto; text-align:center">
<a href="./index.php"><img src="images/logo.png"   height="106" title="Home"  align="left" style="border-color:#ccc; border-radius:1px; padding:2px" /></a> 
<div style="width:auto; padding-top:10px">
<span style="font-family:Arial, Helvetica, sans-serif; font-size:24px; color:#333; font-weight:bold; padding-left:305px" >Project Monitoring and Management Information System (PMIS)</span><br/>
<span style="font-family:Arial, Helvetica, sans-serif; font-size:24px; color:#333; font-weight:bold; padding-left:300px" >Key Performance Indicators (KPIs) Dashboard</span>
</div>
</div>
<table cellpadding="4px" cellspacing="0px" align="center" width="100%" style="border: solid 1px #ccc;" > 
<tr> 
<td width="20%" align="left" valign="top" style="border-right: solid 1px #ccc;">
<div id="wrapper_MemberLogin" style="height: 289px;margin:10; width:350px;">
  <h1 style="color:#000;">KPI Dashboard </h1>
  <div class="clear"></div>
  <div id="LoginBox" class="borderRound borderShadow"  style="padding:10px">
    <form action="KPI_progress_dashboard.php" method="get" name="main_dash" id="main_dash" >
    <input type="hidden" id="kpi_temp_id" name="kpi_temp_id" value="1" />
     <input type="hidden" id="level_count" name="level_count" value="1" />
      <table border="0px" cellpadding="1px" cellspacing="0px" align="center"  >
      <tr>
          <td >
            <strong>
            <label> Start Date: </label>
          </strong>
            </td>
            <td><input type="text" id="start_date" name="start_date" value="2020-03-01" style="width:150px"/></td>
            </tr>
                 <tr>
          <td >
            <strong>
            <label> End Date: </label>
          </strong>
            </td>
            <td><input type="text" id="end_date" name="end_date" value="2020-08-31" style="width:150px"/></td>
            </tr>
                     
                                
        <tr>
          <td ><strong>
                      <label id="lab_0"  > Component: </label>
          </strong></td>
          <td><div id="str_obj_div_0">
            <select name="kpiid_0" id="kpiid_0" onchange="GetNextLevel(this.value,this.name)">
             <option value="0">Component</option>
              		    <option value="000001"   selected="selected" >
								BUND-02-BUNDELKHAND PMC								</option>
							              </select>
          </div></td>
        </tr>
                        
        <tr>
          <td ><strong>
                      <label id="lab_1"  > Sub Component: </label>
          </strong></td>
          <td><div id="str_obj_div_1">
            <select name="kpiid_1" id="kpiid_1" onchange="GetNextLevel(this.value,this.name)">
             <option value="0">Sub Component</option>
              		    <option value="000001_000002"   selected="selected" >
								A-MAHOBA								</option>
							              </select>
          </div></td>
        </tr>
                        
        <tr>
          <td ><strong>
                      <label id="lab_2"  > Activity: </label>
          </strong></td>
          <td><div id="str_obj_div_2">
            <select name="kpiid_2" id="kpiid_2" onchange="GetNextLevel(this.value,this.name)">
             <option value="0">Activity</option>
              		    <option value="000001_000002_000003"  >
								1-Construction of Lachoora Kashipura GOV Water Supply Scheme								</option>
							  		    <option value="000001_000002_000012"  >
								2-Preliminary Investigation works								</option>
							  		    <option value="000001_000002_000015"  >
								3-Temporary Infrastructure								</option>
							  		    <option value="000001_000002_000018"  >
								4-Design & Drawing								</option>
							  		    <option value="000001_000002_000019"  >
								5-Water Treatment Plant								</option>
							  		    <option value="000001_000002_000031"  >
								6-Pipeline & Structures								</option>
							  		    <option value="000001_000002_000052"  >
								7-Miscellaneous works								</option>
							  		    <option value="000001_000002_000057"  >
								8-MEP								</option>
							  		    <option value="000001_000002_000062"  >
								9-Supply & Execution								</option>
							  		    <option value="000001_000002_000063"  >
								10-Intake Works								</option>
							  		    <option value="000001_000002_000066"  >
								11-Water Treatment Plant								</option>
							  		    <option value="000001_000002_000067"  >
								12-Civil works								</option>
							  		    <option value="000001_000002_000071"  >
								13-MEP works								</option>
							  		    <option value="000001_000002_000080"  >
								14-Clear Water Reservoir + Clear Water pump House								</option>
							  		    <option value="000001_000002_000085"  >
								15-Overhead Service Reservoir								</option>
							  		    <option value="000001_000002_000090"  >
								16-Staff Quarter								</option>
							  		    <option value="000001_000002_000094"  >
								17-Pipeline works								</option>
							  		    <option value="000001_000002_000095"  >
								18-Procurement								</option>
							  		    <option value="000001_000002_000103"  >
								19-Laying works								</option>
							  		    <option value="000001_000002_000117"  >
								20-Miscellaneous works								</option>
							  		    <option value="000001_000002_000121"  >
								21-Trial Run and Comissioning								</option>
							  		    <option value="000001_000002_000124"  >
								22-Final Commmissioning of system								</option>
							              </select>
          </div></td>
        </tr>
                        
        <tr>
          <td ><strong>
                      <label id="lab_3"  > Sub-Activity: </label>
          </strong></td>
          <td><div id="str_obj_div_3">
            <select name="kpiid_3" id="kpiid_3" onchange="GetNextLevel(this.value,this.name)">
             <option value="0">Sub-Activity</option>
              		    <option value="000001_000002_000019_000020"  >
								5.1-Submission of BEP of WTP								</option>
							  		    <option value="000001_000002_000019_000021"   selected="selected" >
								5.2-Approval of BEP of WTP								</option>
							  		    <option value="000001_000002_000019_000022"  >
								5.3-Submission of GAD of various structures								</option>
							  		    <option value="000001_000002_000019_000023"  >
								5.4-Approval of GAD of various structures								</option>
							  		    <option value="000001_000002_000019_000024"  >
								5.5-Submission of Numeration and RC of various structures								</option>
							  		    <option value="000001_000002_000019_000025"  >
								5.6-Approval of Numeration and RC of various structures								</option>
							  		    <option value="000001_000002_000019_000026"  >
								5.7-Submission of P&ID								</option>
							  		    <option value="000001_000002_000019_000027"  >
								5.8-Approval of P&ID								</option>
							  		    <option value="000001_000002_000019_000028"  >
								5.9-Submission of PLC & Scada								</option>
							  		    <option value="000001_000002_000019_000029"  >
								5.10-Approval of PLC & Scada								</option>
							  		    <option value="000001_000002_000019_000030"  >
								5.11-Finalization of Design and drawings for Water Treatment Plant								</option>
							              </select>
          </div></td>
        </tr>
                
         <tr >
          <td style="padding-top:20px" align="center" colspan="2">
            <input type="submit" value="Generate Report"  id="uLogin2"/>
            </td>
            <td></td>
            </tr>
      </table>
     
    </form>
  </div>
</div>
  <script src="lightbox/js/lightbox.min.js"></script>
  <link href="lightbox/css/lightbox.css" rel="stylesheet" />      
</td>
<td width="80%" align="left" valign="top">
<script src="highcharts/js/highcharts.js"></script>
<script src="highcharts/js/modules/exporting.js"></script>
<script src="highcharts/js/modules/jquery.highchartTable.js"></script>
 
 
    
           

<div id="result1" style="margin-top:10px">
<script type="text/javascript">
$(function () {
        $('#container').highcharts({
            chart: {
                type: 'spline'
            },
            title: {
                text: 'Approval of BEP of WTP'
            },
            subtitle: {
                text: '(Progress 2020)'
            },
            xAxis: {
                type: 'datetime',
                dateTimeLabelFormats: { // don't display the dummy year
                month: '%m-%Y',
                year: '%Y'
                }
            },
            yAxis: {
                title: {
                    text: '% Done'
                },
                min: 0
            },
            tooltip: {
                formatter: function() {
                        return '<b>'+ this.series.name +'</b><br/>'+
                        Highcharts.dateFormat('%d-%m-%Y', this.x) +': '+ this.y +' %';
                }
            },
             legend: {
            layout: 'vertical',
            align: 'left',
            x: 90,
            verticalAlign: 'top',
            y: 30,
            floating: true/*,
            backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'*/
        },
            series: [
			 {
                name: 'Actual Progress   :  0.00 %				',
                // Define the data points. All series have a dummy year
                // of 1970/71 in order to be compared on the same x axis. Note
                // that in JavaScript, months start at 0 for January, 1 for February etc.
                data: [
			
                   [Date.UTC(2020,2,31) , 0.00 ] , [Date.UTC(2020,3,30) , 0.00 ] , [Date.UTC(2020,4,31) , 0.00 ] , [Date.UTC(2020,5,30) , 0.00 ] , [Date.UTC(2020,6,31) , 0.00 ] , [Date.UTC(2020,7,31) , 0.00 ]                    
                   
                ]
				,
				marker: {
               
                 radius : 1
            }
            },
			{
                 name: 'Planned Progress : 0.00 %',
                // Define the data points. All series have a dummy year
                // of 1970/71 in order to be compared on the same x axis. Note
                // that in JavaScript, months start at 0 for January, 1 for February etc.
                data: [
				
			
                  [Date.UTC(2020,2,31) , 0.00 ] , [Date.UTC(2020,3,30) , 0.00 ] , [Date.UTC(2020,4,31) , 0.00 ] , [Date.UTC(2020,5,30) , 0.00 ] , [Date.UTC(2020,6,31) , 0.00 ] , [Date.UTC(2020,7,31) , 0.00 ]					
                    
                    
                   
                ]
				,
				marker: {
               
                 radius : 1
            }
			
            }
			,
			{
                name: '        Gap : 0.00 %',
				
				color: 'white',
                
				marker: {
               
                 enabled: false,
				 visible: false
            }
			
            }
			
			]
        });
    });
    

		</script>						
	         
<table width="99%"  align="right" border="0" style="margin:5px 5px 5px 7px">
      
      <tr>
        <td height="99"  style="line-height:18px; text-align:justify; vertical-align:top">
          <div id="container" style="min-width: 300px; height: 400px; margin: 0 auto"></div>
          </td>
        
        </tr>
      
  </table>
<table  cellpadding="0px" cellspacing="0px"   width="100%" align="center"  id="tblList" style="border-left:1px #000000 solid;">

<tr bgcolor="000066" style=" color:#FFF">
<td colspan="30" align="center"><span class="white"><strong> (Progress Report)</strong></span></td>
</tr>
<tr>

  <th width="5%" ></th>
  <th width="40%"></th>
  <th  width="4%">&nbsp;</th>
  <th  width="5%">&nbsp;</th>
  <th  width="5%">&nbsp;</th>
  <th  width="5%">&nbsp;</th>
  <th  width="5%">&nbsp;</th>
  <th  width="5%">&nbsp;</th>
   <th  width="5%">&nbsp;</th>
      <th  colspan="1" width="9%">Quarter 1 2020 </th>
  <th colspan="3"  width="9%">Quarter 2 2020 </th>
  <th colspan="2" width="9%">Quarter 3 2020 </th>
<tr >
<th width="5%" height="37">#</th>
<th width="40%"><div align="left">Indicators</div></th>
<th width="4%">UOM</th>
<th width="5%">Baseline</th>
<th width="5%">Total Achieved/Target</th>
<th width="5%">% Weighted</th>
<th width="5%">Achieved/Target</th>
<th>Aggregation</th>

<th>Till  Feb 2020</th>
 <th>Mar</th>
<th>Apr</th>
<th>May</th>
<th>Jun</th>
<th>Jul</th>
<th>Aug</th>
 
</tr>
<tr   style="background-color:#FFFFFF;">
  <td rowspan="2" style="text-align:right;">5.2</td>
  <td rowspan="2" style="text-align:left;">Approval of BEP of WTP</td>
   <td rowspan="2" style="text-align:center;">%</td>
  <td rowspan="2" style="text-align:right;">100</td>
  <td rowspan="2" style="text-align:right;">&nbsp;</td>
  <td rowspan="2" style="text-align:right;">9.09&nbsp;%</td>
  <td height="20" style="text-align:right;">Achieved:</td>
  <td style="text-align:right;">Accumulative</td>
    <td style="text-align:right;">0.00%</td>
          <td style="text-align:right;">0.00%</td>
       <td style="text-align:right;">0.00%</td>
       <td style="text-align:right;">0.00%</td>
       <td style="text-align:right;">0.00%</td>
       <td style="text-align:right;">0.00%</td>
       <td style="text-align:right;">0.00%</td>
  </tr>
<tr   style="background-color:#FFFFFF;">
<td style="text-align:right;">Target:</td>
<td style="text-align:right;">Accumulative</td>
<td style="text-align:right;">0.00%</td>
        <td style="text-align:right;">0.00%</td>
     <td style="text-align:right;">0.00%</td>
     <td style="text-align:right;">0.00%</td>
     <td style="text-align:right;">0.00%</td>
     <td style="text-align:right;">0.00%</td>
     <td style="text-align:right;">0.00%</td>
</tr>
<tr   style="background-color:#FFFFFF;">
<td rowspan="2" style="text-align:right;">&nbsp;</td>
<td rowspan="2" style="text-align:right;">&nbsp;</td>
<td rowspan="2" style="text-align:left;">&nbsp;</td>
<td rowspan="2" style="text-align:left;">&nbsp;</td>
<td height="20" style="text-align:right;">0.00</td>
<td style="text-align:left;">&nbsp;</td>
<td style="text-align:right;"><strong>Achieved</strong>:</td>
<td style="text-align:right;"><strong>Monthly</strong></td>
<td style="text-align:right;">0.00</td>
  <td style="text-align:right;">0.00</td>
 <td style="text-align:right;">0.00</td>
 <td style="text-align:right;">0.00</td>
 <td style="text-align:right;">0.00</td>
 <td style="text-align:right;">0.00</td>
 <td style="text-align:right;">0.00</td>

</tr>
<tr   style="background-color:#FFFFFF;">
  <td height="20" style="text-align:right;">0.00</td>
  <td style="text-align:left;">&nbsp;</td>
  <td style="text-align:right;"><strong>Target</strong>:</td>
  <td style="text-align:right;"><strong>Monthly</strong></td>
  <td style="text-align:right;">0.00</td>
       <td style="text-align:right;">0.00</td>
    <td style="text-align:right;">0.00</td>
    <td style="text-align:right;">0.00</td>
    <td style="text-align:right;">0.00</td>
    <td style="text-align:right;">0.00</td>
    <td style="text-align:right;">0.00</td>
</tr>
</table>
</div>

</td>
</tr>
</table>
</div>
</body>
</html>
